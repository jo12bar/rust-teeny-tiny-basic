fn mul(x, y) {
    x * y
}

// Calculate the factorial of a number
fn factorial(x) {
    // Conditionals are supported!
    if x == 0 {
        1
    } else {
        mul(x, factorial(x - 1))
    }
}

fn call_func_1(f, arg1) {
    f(arg1)
}

fn call_func_2(f, arg1, arg2) {
    f(arg1, arg2)
}

fn call_func_3(f, arg1, arg2, arg3) {
    f(arg1, arg2, arg3)
}

fn call_func_4(f, arg1, arg2, arg3, arg4) {
    f(arg1, arg2, arg3, arg4)
}

fn call_func_5(f, arg1, arg2, arg3, arg4, arg5) {
    f(arg1, arg2, arg3, arg4, arg5)
}

fn call_func_6(f, arg1, arg2, arg3, arg4, arg5, arg6) {
    f(arg1, arg2, arg3, arg4, arg5, arg6)
}

fn call_func_7(f, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {
    f(arg1, arg2, arg3, arg4, arg5, arg6, arg7)
}

// The main function
fn main() {
    let three = 3;
    let meaning_of_life = three * 14 + 1;

    print("Hello, world!");
    print("The meaning of life is...");

    if meaning_of_life == 42 {
        print(meaning_of_life);
        meaning_of_life
    } else {
        print("...something we cannot know");

        print("However, I can tell you that the factorial of 30 is...");
        // Function calling
        let fact = factorial;
        let res = call_func_7(
            call_func_6,
            call_func_5,
            call_func_4,
            call_func_3,
            call_func_2,
            call_func_1,
            fact,
            30
        );
        print(res);
        res
    }
}
